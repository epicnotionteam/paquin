// ====================================================================================================
// Templates / Product
// ====================================================================================================

// Template Structure
// ----------------------------------------------------------------------------------------------------

// Modify breadcrumb container
.product--section > .wrap--container:nth-child(1) {
	@include rem( max-width, 1064px );
	padding: 0;
}

.container--grid {
	overflow: visible;
}


// Template Grid Structure
// --------------------------------------------------

// Product data grid container
.grid--product {
	@include rem( padding-bottom, $gap--section-small );
    // Container [Header]
    #product__header {
		@include rem( row-gap, 12px );
		display: flex;
		flex-direction: column;
    }
    // Container [Media]
    #product__media {
        .product-gallery {
            width: 100%;
            // Viewer
            .product-gallery--viewer {
                border: $border--base;
            }
        }
    }
	// Container [Content]
	#product__content {
		@include rem( row-gap, spacing(5) );
		align-content: flex-start;
		display: grid;
		// Container [Core]
		#product__core {
			@include rem( row-gap, 12px );
			display: grid;
			// Title
			#product__title {
				@include font-size( 'h2' );
				margin: 0;
			}
			// Price container
			#product__price {
				@include rem( column-gap, spacing(2) );
				align-items: center;
				display: grid;
				grid-template-columns: max-content max-content;
				// Price
				.price {
					@include rem( column-gap, spacing(2) );
					align-items: center;
					display: grid;
					grid-template-columns: max-content max-content;
					& > * {
						@include font-size( 'base' );
						margin: 0;
					}
					// Sale price display
					.price__current.price__current--on-sale span.money {
						color: color( 'type', '1' );
					}
				}
			}
			// Indicator [Price, Complex Product]
			.indicator--price {
				@include font-size( 'small' );
				color: color( 'steel', '4' );
				margin: 0;
				// Place icon
				@include icon( before, 'error' ) {
					@include rem( margin, -3px spacing(1) 0 0 );
					display: inline-block;
					font-size: 112%;
				}
			} 
			// Data Sheet
			#product__data-sheet {
				margin: 0;
				// Button
				a {
					width: 100%;
				}
				p {
					@include font-size( 'small' );
				}
			}
		}
		// Container [Secondary]
		#product__secondary {
			& > * {
				@include rem( padding, spacing(5) 0 );
				border-top: $border--base;
				// Content
				p, 
				li {
					@include font-size( 'small' );
					// Strip margin from final <p> tag
					&:last-child {
						margin: 0;
					}
				}
			}
		}
	}
	// Container [Data]
	#product__data {
		// Individual data blocks
		& > * {
			@include rem( padding, spacing(5) 0 );
			border-top: $border--base;
			// Content
			p, 
			li {
				@include font-size( 'small' );
				// Strip margin from final <p> tag
				&:last-child {
					margin: 0;
				}
			}
		}
	}
}

// Adjust for medium breakpoint
@include mq($from: medium) {
    // Grid structure
    .grid--product {
        @include rem(( 
			gap: spacing(6), 
			max-width: 1064px,
			padding-bottom: $gap--section-large
		));
        display: grid;
		grid-auto-rows: minmax( 8px, auto );
        grid-template-columns: repeat( 2, 1fr );
        grid-gap: spacing(6);
        margin: 0 auto;
		grid-template-areas:
		'media content'
		'data content';
    }
    #product__media {
        grid-area: media;
    }  
    #product__data {
        grid-area: data;
	} 
    #product__content {
        grid-area: content;
    }
}