document.addEventListener("DOMContentLoaded", function() {
	
	// Append section theme to parent div (automatically generated by Shopify at page render)
  	// Facilitates sibling targeting to fix spacing on adjacent same-theme sections
  	var sections = document.querySelectorAll('#site-main section[class*="theme--"]');
  	sections.forEach(function(section) {
    	var parentDiv = section.closest('.shopify-section');
      	var themeClass = Array.from(section.classList).find(cls => cls.startsWith('theme--')).replace('theme--', 'section-theme--');
      	if (themeClass) {
          	parentDiv.classList.add(themeClass);
      	}
  	});

	// Accordion Component
	const accordions = document.querySelectorAll('.accordion');	
	accordions.forEach(function(accordion) {
		const items = accordion.querySelectorAll('.item');  
		items.forEach(function(item) {
			const heading = item.querySelector('.item__heading');
			const content = item.querySelector('.item__content');
			heading.addEventListener('click', function() {
			  	if (item.classList.contains('state--active')) {
					item.classList.remove('state--active');
					content.style.display = 'none';
			  	} else {
					items.forEach(function(otherItem) {
						otherItem.classList.remove('state--active');
						otherItem.querySelector('.item__content').style.display = 'none';
					});
					item.classList.add('state--active');
					content.style.display = 'block';
				}
			});
		});
	});

});