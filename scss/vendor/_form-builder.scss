// ====================================================================================================
// Vendor / Powerful Form Builder
// https://apps.shopify.com/form-builder-contact-form
// ====================================================================================================

// Component Instances
// ----------------------------------------------------------------------------------------------------

// Form [General]
// --------------------------------------------------

// Component container
.globo-form-app {
    margin: 0 !important;
    // Panel container
    .panel {
        margin: 0 !important;
        width: 100% !important;
    }
    // Field container
    .block-container {
        @include rem( gap, 12px );
        display: grid;
        // Fieldset
        .globo-form-control {
            margin: 0 !important;
            padding: 0 !important;
            // Input [All]
            input,
            select,
            textarea {
                @include font-size( 'small' );
                background-color: color( 'background', 'input' );
                border-radius: 0 !important;
                box-shadow: none !important;  
                font-family: font-family( 'base' );
            }
			// Select
			select {
				@include rem( min-height, 128px );
			}
			// Input [Upload]
			.gfb__dropzone {
				background-color: transparent;
				border: 0 none !important;
				border-radius: 0 !important;
				min-height: none !important;
				padding: 0 !important;
				// Container [Content]
				.gfb__dropzone--content {
					width: 100%;
					// Container [Placeholder]
					.gfb__dropzone--placeholder {
						justify-content: flex-start;
						flex-direction: column;
						align-items: flex-start;
						gap: 12px;
						width: 100%;
						// Button
						.gfb__dropzone--placeholder--button {
							@extend %button--outline;
							@include icon( before, 'upload' ) {
								@include rem( margin, 1px 12px 0 0 );
            					font-size: 128%;
            					line-height: 1;
							}
						}
					}
				}
				// Upload
				.globo-form-control .gfb__dropzone--preview--item-thumb {
					border-color: $border--base;
				}
			}
            // Placeholder
            ::placeholder {
                color: color( 'steel', '3' );
            }
            // Alert
            small.messages p {
                @include font-size( 'xsmall' );
                @include rem( margin, spacing(2) 0 0 );
                color: color( 'rust', '2' );
                font-family: font-family( 'base' );
                &.help-block.error {
                    @include icon( before, 'error' ) {
                        @include rem( margin, -3px spacing(1) 0 0 );
                        display: inline-block;
                        font-size: 120%;
                    }
                }
            }
        }
    }
    // Submit button
    button.submit {
        box-shadow: none !important;
        @include icon( before, 'arrow_forward' ) {
            @include rem( margin, 1px 12px 0 0 );
            font-size: 128%;
            line-height: 1;
        }
    }
    // Message container
    .message {
        @include rem( margin-top, spacing(3) !important );
		// Message [Error]
        &.error {
			@include rem( padding, 0 spacing(5) 0 0 );
            background-color: transparent !important;
            box-shadow: none !important;
            text-align: left !important;
			// Item(s)
			.err-item {
				color: color( 'rust', '2' );
			}
		}
        // Message [Success]
        &.success {
            @include rem( padding, 0 spacing(5) 0 0 );
            background-color: transparent !important;
            box-shadow: none !important;
            text-align: left !important;
        }
        // Close message
        .dismiss {
            @include rem( top, spacing(1) !important );
            right: 0 !important;
            // Icon
            svg {
                fill: color( 'steel', '4' );
            }
        }
    }
	// Form footer
    .gfb__footer {
        @include rem( margin-top, 12px );
        .description {
            margin: 0;
        }
    }
}

// State management
.globo-form-app {
    margin: 0 !important;
    // Field container
    .block-container {
        // Fieldset 
        .globo-form-control {
            // Input state [:Error]
            &.has-error {
                // Apply border to input container
                input,
                select,
                textarea {
                    border-bottom: 1px solid color( 'rust', '2' ) !important;
                }
            }
        }
    }
    // Submit button
    button.submit {
        // State [:Hover]
        &:hover {
            box-shadow: none !important;
        }
        // State [:Active]
        // State [:Focus]
        &:active,
        &:focus {
			background-color: color( 'action', '1' ) !important;
			box-shadow: none !important;
			color: white !important;
			filter: brightness( 1.12 );
        }
    }
}