{% comment %}
// Output Carousel [Content Media] component
{% endcomment %}


<section id="carousel-content-media" class="section--carousel-content-media">
    <h2>{{ section.settings.heading }}</h2>
    {% for block in section.blocks %}
        <div class="carousel-item">
            <div class="carousel-content">
                <h3>{{ block.settings.heading }}</h3>
                <div class="rich-text">{{ block.settings.content | richtext }}</div>
                {% if block.settings.cta_primary_url and block.settings.cta_primary_text %}
                    <a href="{{ block.settings.cta_primary_url }}" class="button primary">{{ block.settings.cta_primary_text }}</a>
                {% endif %}
                {% if block.settings.cta_secondary_url and block.settings.cta_secondary_text %}
                    <a href="{{ block.settings.cta_secondary_url }}" class="button secondary">{{ block.settings.cta_secondary_text }}</a>
                {% endif %}
            </div>
            <div class="carousel-media">
                {% if block.settings.image != blank %}
                    <img src="{{ block.settings.image | img_url: '800x' }}" alt="{{ block.settings.heading }}">
                {% endif %}
            </div>
        </div>
    {% endfor %}
</section>


{% schema %}
{
    "name": "Carousel [Content Media]",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Main Section Heading",
            "default": "Your Main Heading Here"
        }
    ],
    "blocks": [
        {
            "type": "carousel-block",
            "name": "Carousel Block",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "Item Heading",
                    "default": "Item Heading Here"
                },
                {
                    "type": "richtext",
                    "id": "content",
                    "label": "Content",
                    "default": "<p>Default content here...</p>"
                },
                {
                    "type": "text",
                    "id": "cta_primary_text",
                    "label": "Primary CTA Text",
                    "default": "Link text",
                    "info": "Leave empty if CTA is not required"
                },
                {
                    "type": "url",
                    "id": "cta_primary_url",
                    "label": "Primary CTA URL"
                },
                {
                    "type": "text",
                    "id": "cta_secondary_text",
                    "label": "Secondary CTA Text",
                    "default": "Link text",
                    "info": "Leave empty if CTA is not required"
                },
                {
                    "type": "url",
                    "id": "cta_secondary_url",
                    "label": "Secondary CTA URL"
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Carousel Image"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Default Carousel",
            "category": "Media"
        }
    ]
}
{% endschema %}
